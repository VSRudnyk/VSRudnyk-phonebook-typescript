"use strict";(self.webpackChunkphonebook_typescript=self.webpackChunkphonebook_typescript||[]).push([[21],{8021:function(n,e,t){t.r(e),t.d(e,{default:function(){return an}});var r,i,a,s,o,d,c,u,l,p,x,h,m,f=t(9439),Z=t(2791),v=t(1413),b=t(4165),g=t(7762),j=t(5861),w=t(1134),y=t(4695),k=t(6727),C=t(5527),P=t(4554),S=t(1889),A=t(8372),z=t(890),L=t(3736),_=t(5218),q=t(168),N=t(7691),F=N.ZP.form(r||(r=(0,q.Z)(["\n  border-radius: 4px;\n  @media screen and (min-width: 780px) {\n    width: 450px;\n  }\n"]))),D=(N.ZP.h2(i||(i=(0,q.Z)(["\n  margin-bottom: 25px;\n"]))),(0,N.ZP)(P.Z)(a||(a=(0,q.Z)(["\n  display: flex;\n\n  justify-content: ",";\n  margin-top: 10px;\n  margin-left: ",";\n  margin-right: 15px;\n"])),(function(n){return"update"===n.type?"space-between":"start"}),(function(n){return"update"===n.type?"15px":"0"}))),G=t(3867),M=t(5243),R=N.ZP.div(s||(s=(0,q.Z)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0.3);\n  top: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),T=t(3329),W=function(n){var e=n.color,t=n.height,r=n.width;return(0,T.jsx)(R,{children:(0,T.jsx)(M.Z1,{color:e,height:t,width:r})})},I={name:"",number:""},U=function(n){var e,t,r=n.id,i=n.type,a=n.itemData,s=n.closeModal,o=(0,Z.useState)("add"===i?I:a),d=(0,f.Z)(o,2),c=d[0],u=d[1],l=(0,G.pG)("").data,p=(0,G.Tn)(),x=(0,f.Z)(p,2),h=x[0],m=x[1].isLoading,q=(0,G.wv)(),N=(0,f.Z)(q,2),M=N[0],R=N[1].isLoading,U=(0,G.Nt)(),X=(0,f.Z)(U,2),B=X[0],E=X[1].isLoading,H=m||R||E,J=k.Ry().shape({name:k.Z_().required(),number:k.Z_().required("This field is Required").matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number is not valid")}),K=function(){var n=(0,j.Z)((0,b.Z)().mark((function n(e){var t,r;return(0,b.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=(0,g.Z)(null===l||void 0===l?void 0:l.result),n.prev=1,t.s();case 3:if((r=t.n()).done){n.next=10;break}if(r.value.name!==e.name){n.next=8;break}return _.Am.error("".concat(e.name," is already in contacts.")),n.abrupt("return");case 8:n.next=3;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),t.e(n.t0);case 15:return n.prev=15,t.f(),n.finish(15);case 18:return n.next=20,h(e);case 20:_.Am.success("Contact ".concat(e.name," has been added"));case 21:case"end":return n.stop()}}),n,null,[[1,12,15,18]])})));return function(e){return n.apply(this,arguments)}}(),O=function(){var n=(0,j.Z)((0,b.Z)().mark((function n(e){return(0,b.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M(e);case 2:_.Am.success("Contact ".concat(l.name," has been updated"));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Q=function(){var n=(0,j.Z)((0,b.Z)().mark((function n(e){return(0,b.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B(e);case 2:_.Am.success("Contact ".concat(l.name," has been deleted"));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),V=function(n){u(n)},Y=(0,w.cI)({resolver:(0,y.X)(J)}),$=Y.register,nn=Y.handleSubmit,en=Y.formState.errors,tn=function(){var n=(0,j.Z)((0,b.Z)().mark((function n(e){return(0,b.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("add"!==i){n.next=5;break}return n.next=3,K(e);case 3:n.next=7;break;case 5:return n.next=7,O((0,v.Z)({id:r},e));case 7:null===s||void 0===s||s(),u(I);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(F,{onSubmit:nn(tn),children:(0,T.jsx)(C.Z,{elevation:3,sx:{width:"auto",boxShadow:"3px 3px 5px 0px rgba(25, 118, 210, 1)"},children:(0,T.jsxs)(P.Z,{sx:{width:"auto"},px:3,py:2,children:[(0,T.jsxs)(S.ZP,{children:[(0,T.jsxs)(S.ZP,{item:!0,xs:5,sm:5,children:[(0,T.jsx)(A.Z,(0,v.Z)((0,v.Z)({required:!0,id:"name",label:"Name",size:"small",fullWidth:!0,margin:"dense"},$("name")),{},{error:!!en.name,value:null===c||void 0===c?void 0:c.name,onChange:function(n){return V((0,v.Z)((0,v.Z)({},c),{},{name:n.target.value}))}})),(0,T.jsx)(z.Z,{variant:"inherit",color:"textSecondary",children:null===(e=en.name)||void 0===e?void 0:e.message})]}),(0,T.jsxs)(S.ZP,{item:!0,xs:5,sm:5,children:[(0,T.jsx)(A.Z,(0,v.Z)((0,v.Z)({required:!0,id:"number",label:"Number",size:"small",fullWidth:!0,margin:"dense"},$("number")),{},{error:!!en.number,value:null===c||void 0===c?void 0:c.number,onChange:function(n){return V((0,v.Z)((0,v.Z)({},c),{},{number:n.target.value}))}})),(0,T.jsx)(z.Z,{variant:"inherit",color:"textSecondary",children:null===(t=en.number)||void 0===t?void 0:t.message})]})]}),(0,T.jsxs)(D,{type:i,children:[(0,T.jsx)(L.Z,{variant:"contained",color:"primary",type:"submit",disabled:m||R||E,size:"small",children:"add"===i?"Add":"Update"}),"update"===i&&(0,T.jsx)(L.Z,{variant:"contained",color:"error",onClick:function(){return Q(r)},disabled:m||R||E,size:"small",children:"Delete"})]})]})})}),H&&(0,T.jsx)(W,{color:"#2196f3",width:"100",height:"100"})]})},X=N.ZP.ul(o||(o=(0,q.Z)(["\n  padding-left: 0;\n  list-style: none;\n  margin-top: 25px;\n  margin-bottom: 25px;\n\n  /* overflow-y: scroll;\n  max-height: 250px; */\n\n  @media screen and (min-width: 768px) {\n    width: 500px;\n  }\n"]))),B=t(9818),E=t(3044),H=function(n){var e=n.avatarName,t=function(n){var e,t=0;for(e=0;e<n.length;e+=1)t=n.charCodeAt(e)+((t<<5)-t);var r="#";for(e=0;e<3;e+=1){r+="00".concat((t>>8*e&255).toString(16)).slice(-2)}return r};return(0,T.jsx)(E.Z,(0,v.Z)({},function(n){return{sx:{bgcolor:t(n)},children:"".concat(n.split(" ")[0][0]).concat(n.split(" ")[1][0])}}(e)))},J=N.ZP.li(d||(d=(0,q.Z)(["\n  cursor: pointer;\n  font-size: 16px;\n  border-top-left-radius: 40px;\n  border-bottom-left-radius: 40px;\n  border: 1px solid #c4c4c4;\n  box-shadow: 3px 3px 5px 0px rgb(25 118 210);\n  &:not(:last-child) {\n    margin-bottom: 15px;\n  }\n"]))),K=N.ZP.div(c||(c=(0,q.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),O=N.ZP.div(u||(u=(0,q.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 80%;\n"]))),Q=N.ZP.p(l||(l=(0,q.Z)(["\n  margin: 0;\n"]))),V=function(n){var e=n._id,t=n.name,r=n.number,i=(0,Z.useState)(!1),a=(0,f.Z)(i,2),s=a[0],o=a[1],d=function(){o(!1)};return(0,T.jsxs)(J,{children:[(0,T.jsx)("div",{onClick:function(){o(!0)},children:(0,T.jsx)(K,{children:(0,T.jsxs)(O,{children:[(0,T.jsx)(H,{avatarName:t}),(0,T.jsx)(Q,{children:t}),(0,T.jsx)(Q,{children:r})]})})}),(0,T.jsx)(B.Z,{open:s,onClose:d,children:(0,T.jsx)(U,{type:"update",itemData:{name:t,number:r},id:e,closeModal:d})})]})},Y=function(n){var e=n.items;return(0,T.jsx)(T.Fragment,{children:e&&(0,T.jsx)(X,{children:e.map((function(n){return(0,T.jsx)(V,(0,v.Z)({},n),n._id)}))})})},$=N.ZP.div(p||(p=(0,q.Z)(["\n  display: inline-block;\n  border-radius: 4px;\n  box-shadow: 3px 3px 5px 0px rgba(25, 118, 210, 1);\n"]))),nn=function(n){var e=n.value,t=n.onChange;return(0,T.jsx)($,{children:(0,T.jsx)(A.Z,{id:"outlined-basic",label:"Find contact by name",variant:"outlined",onChange:function(n){return t(n.target.value)},value:e,autoComplete:"off",size:"small"})})},en=N.ZP.div(x||(x=(0,q.Z)(["\n  max-width: 1170px;\n  margin-left: auto;\n  margin-right: auto;\n  padding-left: 10px;\n  padding-right: 10px;\n\n  @media screen and (min-width: 768px) {\n    padding-left: 30px;\n    padding-right: 30px;\n  }\n"]))),tn=N.ZP.h1(h||(h=(0,q.Z)(["\n  padding-top: 100px;\n  margin-bottom: 26px;\n  @media screen and (max-width: 767px) {\n    text-align: center;\n  }\n"]))),rn=N.ZP.h2(m||(m=(0,q.Z)(["\n  margin-top: 25px;\n  margin-bottom: 25px;\n"])));function an(){var n=(0,Z.useState)(""),e=(0,f.Z)(n,2),t=e[0],r=e[1],i=(0,G.pG)(""),a=i.data,s=i.isLoading,o=function(){var n=t.toLowerCase();if(null!==a&&void 0!==a&&a.result)return null===a||void 0===a?void 0:a.result.filter((function(e){return e.name.toLowerCase().includes(n)}))}();return(0,T.jsxs)(en,{children:[(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(tn,{children:"Phonebook"}),(0,T.jsx)(rn,{children:"Add new contact"}),(0,T.jsx)(U,{type:"add"}),(0,T.jsx)(rn,{children:"Contacts"}),(0,T.jsx)(nn,{value:t,onChange:function(n){r(n)}}),(0,T.jsx)(Y,{items:o})]}),s&&(0,T.jsx)(W,{color:"#2196f3",width:"100",height:"100"})]})}}}]);
//# sourceMappingURL=21.e450c574.chunk.js.map